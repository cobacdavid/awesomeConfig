-- suppose que ecranAux est une variable globale d√©finie
function freeze ()
   local f = "/home/david/" .. os.date("%Y%m%d-%H%M%S") .. "-ecranAux.png"
   --
   local geometrie  = "xrandr |grep" .. ecranAux .. "|cut -d ' ' -f3"
   local copieEcran = "import -window root -crop " .. geometrie .. " " .. f
   --
   awful.spawn( copieEcran .. "& phototonic " .. f .. "&")
end
--
freezeWidget = wibox.widget {
   widget = wibox.widget.textbox,
   text   = "freeze Aux",
}
--
freezeWidget:connect_signal("button::press", function()
                                freeze()
                            end)
